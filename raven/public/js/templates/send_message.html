<div class="timeline-message-box" style="padding: 2px;">
    <div class="message-header"
        style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px;">
        <div class="user-info" style="display: flex; align-items: flex-start;">
            {{ frappe.avatar(owner, "avatar-medium") }}
            <div class="user-details"
                style="display: flex; flex-direction: column; align-items: flex-start; margin-left: 8px;">
                <span style="font-weight: bold;">
                    {{ full_name || frappe.user.full_name(owner) }}
                </span>
                <span style="font-weight: normal;">
                    {{text}}
                </span>
            </div>
            </div>
            <div class="actions" style="flex-shrink: 0; display: flex; align-items: center;">
            
                {% if (is_direct_message) { %}
                <span style="font-weight: 500; font-size: 12px;">Direct Message with &nbsp;</span>
                {% } %}
                
                <a class="action-btn" href="/raven/channel/{{channel_id}}" title="Open {{ channel_name }}" target="_blank"
                    style="text-decoration: underline; font-weight: 500; font-size: 12px; margin: 0;">
                    {% if (is_direct_message) { %}
                    <!-- dont show any icon -->
                    {% } else if(type == "Open"){ %}
                    <i class="fa fa-globe"></i>
                    {% } else if(type == "Private"){ %}
                    <i class="fa fa-lock"></i>
                    {% } else if(type == "Public"){ %}
                    <i class="fa fa-hashtag"></i>
                    {% } %}
                    {{ channel_name }}
            </a>
            <span class="text-muted" style="font-size: 12px; margin-left: 2px;">
                &nbsp;- {{ comment_when(creation) }}
            </span>

        </div>
    </div>
    {% if (file) { %}
    <div class="ellipsis flex mt-2">
        <a href="{%= encodeURI(file).replace(/#/g, \'%23\') %}" class="text-muted small" target="_blank"
            rel="noopener noreferrer">
            <svg viewBox="0 0 16 16" class="icon icon-xs" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M14 7.66625L8.68679 12.8875C7.17736 14.3708 4.64151 14.3708 3.13208 12.8875C1.62264 11.4042 1.62264 8.91224 3.13208 7.42892L7.84151 2.80099C8.9283 1.733 10.6189 1.733 11.7057 2.80099C12.7925 3.86897 12.7925 5.53028 11.7057 6.59827L7.35849 10.8109C6.75472 11.4042 5.78868 11.4042 5.24528 10.8109C4.64151 10.2176 4.64151 9.26823 5.24528 8.73424L8.86792 5.17429"
                    stroke="currentColor" stroke-miterlimit="10" stroke-linecap="round" />
            </svg>
            {%= file.split("/").slice(-1)[0] %}
        </a>
    </div>
    {% } %}
</div>